version: '3.4'

services:

  boteventmanagement-api:
    image: tuliorezende/boteventmanagement-api
    build:
      context: .
      dockerfile: BotEventTemplate.Api/Dockerfile
    environment:
     ASPNETCORE_ENVIRONMENT: Production
     DefaultConnection: sql-database;Initial Catalog=BotEventManagementDb;User Id=sa;Password=.4\\LSPAehX;Trusted_Connection=false
    ports:
    - "20000:80"
    depends_on: 
      - sql-database

  sql-database:
    image: microsoft/mssql-server-linux:2017-latest
    ports: 
      - "1401:1433"
    environment:
      SA_PASSWORD: ".4\\LSPAehX"
      ACCEPT_EULA: "Y"